<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visual Resume | Yilmaz Mustafa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-slate-50 text-slate-800">
<!--
    Color Palette Selection: Brilliant Blues
    - Primary: #005F73
    - Secondary: #0A9396
    - Accent: #94D2BD
    - Highlight: #E9D8A6
    - Background/Text: #EE9B00, #CA6702, #BB3E03, #AE2012, #9B2226
-->
<!-- Plan Narrative: 1. Snapshot (KPIs) 2. Contextual Skill Aligner (Offline Analysis). 3. Skills (Visual Charts) 4. Experience (Timeline) 5. Projects (List of cards). -->
<!-- Visualization Choices: KPIs (Single Big Number), Skills (Doughnut, Bar, Radar for different categories - Comparison/Inform), Projects (List of cards - Organization/Inform). Confirmed NO SVG. -->

<!-- STICKY HEADER (Hidden until scroll) -->
<div id="sticky-header">
    <div class="flex justify-between items-center max-w-7xl mx-auto">
        <div class="flex items-center space-x-3">
            <h4 class="text-lg font-bold text-[#005F73]">YILMAZ MUSTAFA</h4>
            <span class="text-[#94D2BD] text-xl hidden sm:inline">|</span>
            <span class="text-sm text-slate-600 font-medium hidden sm:inline">Java & Spring Software Engineer</span>
        </div>
        <div class="sticky-contact-bar flex items-center space-x-2 text-slate-600">
            <span>📧 yilmaz@codesapien.net</span>
            <span class="text-[#94D2BD] hidden sm:inline">|</span>
            <span class="hidden sm:inline">💼 codesapienbe</span>
        </div>
    </div>
</div>

<div class="container mx-auto p-4 md:p-8">
    
    <!-- PRINT-ONLY CONTACT INFO BLOCK -->
    <div id="print-contact-info" class="print-only print-contact">
        <h1 class="print-name">YILMAZ MUSTAFA</h1>
        <p class="print-role">Java & Spring Software Engineer</p>
        <p class="print-muted">📍 Zele 9240, East Flanders, Belgium</p>
        <div class="print-contact-links">
            <span><a href="mailto:yilmaz@codesapien.net" class="print-link">📧 yilmaz@codesapien.net</a></span>
            <span class="sep">|</span>
            <span><a href="tel:+32467711709" class="print-link">📞 +32 (467) 711 709</a></span>
            <span class="sep">|</span>
            <span><a href="https://www.linkedin.com/in/codesapienbe" class="print-link">💼 codesapienbe (LinkedIn)</a></span>
        </div>
    </div>

    <!-- NEW: PERSONAL SNAPSHOT SECTION -->
    <section id="personal-snapshot" class="mb-12 bg-white rounded-xl shadow-lg p-6 md:p-8">
        <div class="grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-6 items-center">
            
            <!-- Column 1: Image -->
            <div class="md:col-span-1 lg:col-span-1 flex justify-center md:justify-start">
                <img src="https://raw.githubusercontent.com/codesapienbe/me/refs/heads/main/profile.jpeg" 
                     alt="Yilmaz Mustafa Profile Photo" 
                     class="w-32 h-32 rounded-full object-cover border-4 border-[#0A9396] shadow-md"/>
            </div>

            <!-- Column 2: Name & Title -->
            <div class="md:col-span-3 lg:col-span-2 text-center md:text-left">
                <h1 class="text-4xl font-extrabold text-primary sm:text-5xl">YILMAZ MUSTAFA</h1>
                <p class="text-xl font-light text-accent mt-1">Java & Spring Software Engineer</p>
                <p class="text-sm text-slate-500 mt-2">📍 Zele 9240, East Flanders, Belgium</p>
            </div>

            <!-- Column 3: Contact Links -->
            <div class="md:col-span-4 lg:col-span-2 md:mt-0 mt-4">
                <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-2 lg:grid-cols-2 gap-3 text-sm font-medium">
                    
                    <a href="mailto:yilmaz@codesapien.net" class="flex items-center space-x-2 p-2 bg-muted rounded-lg text-primary hover:bg-tint1 transition">
                        <span class="text-xl">📧</span>
                        <span class="truncate">Email</span>
                    </a>
                    
                    <a href="tel:+32467711709" class="flex items-center space-x-2 p-2 bg-muted rounded-lg text-accent hover:bg-tint-alt transition">
                        <span class="text-xl">📞</span>
                        <span class="truncate">Phone</span>
                    </a>
                    
                    <a href="https://codesapien.net" target="_blank" class="flex items-center space-x-2 p-2 bg-muted rounded-lg text-warn hover:bg-tint2 transition">
                        <span class="text-xl">🌐</span>
                        <span class="truncate">Portfolio</span>
                    </a>
                    
                    <a href="https://github.com/codesapienbe" target="_blank" class="flex items-center space-x-2 p-2 bg-muted rounded-lg text-danger hover:bg-tint3 transition">
                        <span class="text-xl">🐙</span>
                        <span class="truncate">GitHub</span>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <main>
        <section id="summary" class="mb-16">
            <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-center text-[#005F73] mb-6">Professional Snapshot</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                    <div>
                        <p id="counter1" class="text-6xl sm:text-5xl font-extrabold text-[#CA6702]">0</p>
                        <p class="text-xl font-medium text-slate-700 mt-2">Years of Development</p>
                        <p class="text-slate-500 mt-1">Total experience across Java, Python, and C#.</p>
                    </div>
                    <div>
                        <p id="counter2" class="text-6xl sm:text-5xl font-extrabold text-[#BB3E03]">0</p>
                        <p class="text-xl font-medium text-slate-700 mt-2">Trained Junior Developers</p>
                        <p class="slate-500 mt-1">Java/Python curriculum delivered with high placement rate.</p>
                    </div>
                    <div>
                        <p id="counter3" class="text-6xl sm:text-5xl font-extrabold text-[#AE2012]">0</p>
                        <p class="text-xl font-medium text-slate-700 mt-2">Concurrent Users</p>
                        <p class="text-slate-500 mt-1">Supported in high-performance apps.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="gemini-analysis" class="mb-16">
            <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-center text-[#005F73] mb-6">Contextual Skill Match 🎯</h2>
                <p class="text-slate-600 mb-2 text-center">Enter company details and paste a job description below for an instant analysis.</p>

                <div class="grid grid-cols-3 gap-4 mb-4">
                    <label for="companyNameInput" class="sr-only">Company Name</label>
                    <input type="text" id="companyNameInput" aria-label="Company Name" class="w-full p-2 border border-slate-300 rounded-lg focus:ring-[#0A9396] focus:border-[#0A9396] text-slate-700 col-span-1" placeholder="Company Name">
                    <label for="companyUrlInput" class="sr-only">Company Website URL</label>
                    <input type="url" id="companyUrlInput" aria-label="Company Website URL" class="w-full p-2 border border-slate-300 rounded-lg focus:ring-[#0A9396] focus:border-[#0A9396] text-slate-700 col-span-2" placeholder="Website URL (e.g., https://example.com)">
                </div>

                <label for="jobDescriptionInput" class="sr-only">Job Description</label>
                <textarea id="jobDescriptionInput" aria-label="Job Description" rows="8" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-[#0A9396] focus:border-[#0A9396] text-slate-700" placeholder="Paste the job description (e.g., Backend Engineer, Java/Kubernetes)..."></textarea>

                <div class="flex justify-center mt-4 space-x-4">
                    <button id="analyzeButton" class="flex items-center space-x-2 bg-[#EE9B00] hover:bg-[#CA6702] text-white font-bold py-3 px-6 rounded-lg transition duration-200 shadow-md w-full max-w-[200px]" type="button">
                        <span>Run Match 🚀</span>
                        <span id="loadingSpinner" class="loading-spinner"></span>
                    </button>

                    <div id="exportContainer" class="hidden w-full max-w-[200px]">
                        <button id="exportButton" class="w-full flex items-center justify-center bg-[#0A9396] hover:bg-[#005F73] text-white font-bold py-3 px-6 rounded-lg transition duration-200 shadow-md" type="button">
                            Export Match Report 📄
                        </button>
                        <!-- Tiny preview & section-exclude UI for quick verification before Word export -->
                        <div id="export-options" style="margin-top:8px; font-size:12px;">
                            <label style="display:flex; align-items:center; gap:6px;">
                                <input type="checkbox" id="previewToggle" />
                                <span>Open preview in new tab</span>
                            </label>
                            <details style="margin-top:6px;">
                                <summary style="cursor:pointer;">Customize sections to include</summary>
                                <div style="margin-top:6px; display:flex; flex-direction:column; gap:6px;">
                                    <label><input type="checkbox" class="export-section" value="summary" checked /> Include Summary</label>
                                    <label><input type="checkbox" class="export-section" value="analysis" checked /> Include Analysis</label>
                                    <label><input type="checkbox" class="export-section" value="experience" checked /> Include Experience</label>
                                    <label><input type="checkbox" class="export-section" value="projects" checked /> Include Projects</label>
                                    <label><input type="checkbox" class="export-section" value="education" checked /> Include Education</label>
                                </div>
                            </details>
                    </div>

                    <!-- Toast container for visual hints -->
                    <div id="toast" style="position:fixed; bottom:24px; right:24px; z-index:200; display:none; background:var(--primary); color:white; padding:10px 14px; border-radius:8px; box-shadow:0 6px 18px rgba(2,6,23,0.35); font-size:13px;"></div>
                </div>

                <div id="analysisOutput" class="mt-8 pt-4 border-t border-slate-200">
                    <h3 class="text-xl font-bold text-[#0A9396] mb-2">Analysis Results:</h3>
                    <p id="outputPlaceholder" class="text-slate-500 italic">Results will appear here after analysis.</p>
                    <!-- Analysis Results are injected here -->
                    <div id="outputContent" class="text-slate-700 analysis-content"></div>
                </div>
            </div>
        </section>

        <section id="skills" class="mb-16">
            <h2 class="text-3xl font-bold text-center text-[#005F73] mb-8">Core Technical Expertise</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                
                <!-- CARD 1: Backend & Databases -->
                <div class="flip-card h-full" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <h3 class="text-xl font-bold text-[#0A9396] mb-4">Backend & Databases</h3>
                            <div class="chart-container flex-grow flex items-center justify-center">
                                <canvas id="javaSkillsChart"></canvas>
                            </div>
                            <p class="text-xs text-slate-500 italic mt-2">Tap card for detailed breakdown.</p>
                        </div>
                        <div class="flip-card-back border-accent-left">
                            <h3 class="text-xl font-bold text-[#005F73]">Backend & Databases (High Expertise)</h3>
                            <ul class="text-left">
                                <li><strong>Core Java:</strong> Java 17-21, emphasizing modern concurrency.</li>
                                <li><strong>Spring Stack:</strong> Spring Boot 3.x, Spring Cloud, Spring Security.</li>
                                <li><strong>Messaging:</strong> IBM MQ, ZeroMQ, RabbitMQ (Protocols: SWIFT MT/MX).</li>
                                <li><strong>Databases:</strong> PostgreSQL, Oracle, MongoDB, MSSQL.</li>
                                <li><strong>Persistence:</strong> JPA, Hibernate, ElasticSearch.</li>
                            </ul>
                            <p class="text-xs text-slate-500 mt-4 self-end">Tap to see chart view.</p>
                        </div>
                    </div>
                </div>

                <!-- CARD 2: Frontend & Design -->
                <div class="flip-card h-full" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <h3 class="text-xl font-bold text-[#0A9396] mb-4">Frontend & Design</h3>
                            <div class="chart-container flex-grow flex items-center justify-center">
                                <canvas id="apiDbSkillsChart"></canvas>
                            </div>
                            <p class="text-xs text-slate-500 italic mt-2">Tap card for detailed breakdown.</p>
                        </div>
                        <div class="flip-card-back border-warn-left">
                            <h3 class="text-xl font-bold text-[#005F73]">Frontend & Design (Applied Skills)</h3>
                            <ul class="text-left">
                                <li><strong>Expert:</strong> Vaadin (Java UI framework).</li>
                                <li><strong>Strong:</strong> React, HTML, CSS, JavaScript/TypeScript.</li>
                                <li><strong>Intermediate:</strong> GWT (Legacy Java Web Toolkit).</li>
                                <li><strong>Familiar:</strong> React Native, NextJS (beginner).</li>
                                <li><strong>UI/APIs:</strong> GraphQL, RESTful API design.</li>
                            </ul>
                            <p class="text-xs text-slate-500 mt-4 self-end">Tap to see chart view.</p>
                        </div>
                    </div>
                </div>

                <!-- CARD 3: DevOps & AI/ML -->
                <div class="flip-card h-full lg:col-span-1 md:col-span-2" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <h3 class="text-xl font-bold text-[#0A9396] mb-4">DevOps & AI/ML</h3>
                            <div class="chart-container flex-grow flex items-center justify-center">
                                <canvas id="devopsSkillsChart"></canvas>
                            </div>
                            <p class="text-xs text-slate-500 italic mt-2">Tap card for detailed breakdown.</p>
                        </div>
                        <div class="flip-card-back border-primary-left">
                            <h3 class="text-xl font-bold text-[#005F73]">DevOps & AI/ML (Infrastructure & Growth)</h3>
                            <ul class="text-left">
                                <li><strong>Expert:</strong> CI/CD, Jenkins, Docker.</li>
                                <li><strong>Intermediate:</strong> Kubernetes, Terraform, Python (TensorFlow, OpenCV).</li>
                                <li><strong>Familiar:</strong> Ansible, AWS/Azure, MLOps concepts.</li>
                                <li><strong>Architecture:</strong> Microservices, Modulith, Event-Driven.</li>
                                <li><strong>Quality:</strong> TDD, JUnit, SonarQube.</li>
                            </ul>
                            <p class="text-xs text-slate-500 mt-4 self-end">Tap to see chart view.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="experience" class="mb-16 pt-8">
            <h2 class="text-3xl font-bold text-center text-[#005F73] mb-8">Professional Journey</h2>
            <div class="relative border-l-4 border-[#94D2BD] ml-6 md:ml-0 md:mx-auto">
                <!-- EXPERIENCE 1: Python AI Applications (Freelance) -->
                <div class="mb-10 ml-8 md:ml-0">
                    <div class="absolute -left-1.5 mt-1.5 w-3 h-3 bg-[#005F73] rounded-full"></div>
                    <div class="md:grid md:grid-cols-2 md:gap-8">
                        <div class="md:text-right md:pr-8">
                            <time class="block mb-1 text-sm font-normal leading-none text-slate-500">Feb 2025 – Aug 2025 (7 mos)</time>
                            <h3 class="text-xl font-semibold text-[#005F73]">Software Engineer</h3>
                            <span class="text-sm font-medium text-[#0A9396]">(Freelance - Java & AI/ML, Spring AI integration)</span>
                        </div>
                        <div class="p-4 bg-white rounded-lg border border-slate-200 shadow-sm mt-2 md:mt-0">
                            <ul class="list-disc ml-4 text-base font-normal text-slate-600 space-y-1">
                                <li>Built production Java microservices with <strong>Spring Boot</strong> and integrated AI model serving using <strong>Spring AI</strong> for low-latency inference pipelines.</li>
                                <li>Designed end-to-end AI/ML workflows combining Java (Spring) services with Python model components (<strong>TensorFlow</strong>/<strong>PyTorch</strong>), exposing inference APIs and batch pipelines.</li>
                            </ul>
                            <p class="text-xs text-slate-500 mt-2">Skills: Java, Spring Boot, Spring AI, DJL (Deep Learning for Java), TensorFlow, Python, FastAPI, Microservices, Model Serving.</p>
                        </div>
                    </div>
                </div>
                <!-- EXPERIENCE 2: Java Software Engineer (theMatchBox) -->
                <div class="mb-10 ml-8 md:ml-0">
                    <div class="absolute -left-1.5 mt-1.5 w-3 h-3 bg-[#005F73] rounded-full"></div>
                    <div class="md:grid md:grid-cols-2 md:gap-8">
                        <div class="md:text-right md:pr-8">
                            <time class="block mb-1 text-sm font-normal leading-none text-slate-500">Oct 2024 – Feb 2025 (5 mos)</time>
                            <h3 class="text-xl font-semibold text-[#005F73]">Java Software Engineer</h3>
                            <p class="text-sm font-normal text-slate-500">theMatchBox, Antwerp</p>
                        </div>
                        <div class="p-4 bg-white rounded-lg border border-slate-200 shadow-sm mt-2 md:mt-0">
                            <ul class="list-disc ml-4 text-base font-normal text-slate-600 space-y-1">
                                <li>Developed custom <strong>ElasticSearch Java Plugins</strong> for advanced search algorithms and performed JVM tuning/Spring application performance enhancement, utilizing <strong>ZeroMQ</strong>.</li>
                            </ul>
                            <p class="text-xs text-slate-500 mt-2">Skills: Java, Spring Boot, Elasticsearch, ZeroMQ, Distributed Systems, Performance Optimization.</p>
                        </div>
                    </div>
                </div>
                <!-- EXPERIENCE 3: Java Software Engineer (SWIFT) -->
                <div class="mb-10 ml-8 md:ml-0">
                    <div class="absolute -left-1.5 mt-1.5 w-3 h-3 bg-[#005F73] rounded-full"></div>
                    <div class="md:grid md:grid-cols-2 md:gap-8">
                        <div class="md:text-right md:pr-8">
                            <time class="block mb-1 text-sm font-normal leading-none text-slate-500">Jun 2023 – Oct 2024 (1 yr 5 mos)</time>
                            <h3 class="text-xl font-semibold text-[#005F73]">Java Software Engineer</h3>
                            <p class="text-sm font-normal text-slate-500">SWIFT, Brussels</p>
                        </div>
                        <div class="p-4 bg-white rounded-lg border border-slate-200 shadow-sm mt-2 md:mt-0">
                            <ul class="list-disc ml-4 text-base font-normal text-slate-600 space-y-1">
                                <li>Implemented and maintained <strong>SWIFT MT/MX messaging protocols</strong> on the Alliance Messaging Hub (AMH) for secure financial communication.</li>
                                <li>Contributed to <strong>Microservices design</strong> and enterprise security upgrades for high-volume, mission-critical transaction processing systems (using <strong>Java EE/Oracle SQL</strong>).</li>
                            </ul>
                            <p class="text-xs text-slate-500 mt-2">Skills: Java EE, Messaging Protocols, Data Security, Oracle SQL, IBM MQ, API Development, Agile.</p>
                        </div>
                    </div>
                </div>
                <!-- EXPERIENCE 4: Software Engineer & Instructor (INTEC BRUSSEL) -->
                <div class="mb-10 ml-8 md:ml-0">
                    <div class="absolute -left-1.5 mt-1.5 w-3 h-3 bg-[#005F73] rounded-full"></div>
                    <div class="md:grid md:grid-cols-2 md:gap-8">
                        <div class="md:text-right md:pr-8">
                            <time class="block mb-1 text-sm font-normal leading-none text-slate-500">Mar 2020 – Jun 2023 (3 yrs 4 mos)</time>
                            <h3 class="text-xl font-semibold text-[#005F73]">Software Engineer</h3>
                            <span class="text-sm font-medium text-[#0A9396]">& Instructor (INTEC)</span>
                        </div>
                        <div class="p-4 bg-white rounded-lg border border-slate-200 shadow-sm mt-2 md:mt-0">
                            <ul class="list-disc ml-4 text-base font-normal text-slate-600 space-y-1">
                                <li>Developed and maintained full-stack internal applications (<strong>Student Management, QR Attendance</strong>) using <strong>Spring Boot</strong>, <strong>Spring Cloud</strong>, and <strong>Vaadin</strong>.</li>
                                <li>Delivered dual-language curriculum (<strong>Java EE, Spring Boot, Python</strong>) to over 100 professional developers, achieving a <strong>95% job placement rate</strong>.</li>
                            </ul>
                            <p class="text-xs text-slate-500 mt-2">Skills: Spring Boot, Microservices, Spring Cloud, Java EE, Angular, REST Services, Powershell, Mentoring.</p>
                        </div>
                    </div>
                </div>
                <!-- EXPERIENCE 5: Java Software Engineer (VDAB) -->
                <div class="mb-10 ml-8 md:ml-0">
                    <div class="absolute -left-1.5 mt-1.5 w-3 h-3 bg-[#005F73] rounded-full"></div>
                    <div class="md:grid md:grid-cols-2 md:gap-8">
                        <div class="md:text-right md:pr-8">
                            <time class="block mb-1 text-sm font-normal leading-none text-slate-500">Apr 2019 – Oct 2019 (7 mos)</time>
                            <h3 class="text-xl font-semibold text-[#005F73]">Java Software Engineer</h3>
                            <p class="text-sm font-normal text-slate-500">VDAB, Brussels</p>
                        </div>
                        <div class="p-4 bg-white rounded-lg border border-slate-200 shadow-sm mt-2 md:mt-0">
                            <ul class="list-disc ml-4 text-base font-normal text-slate-600 space-y-1">
                                <li>Migrated legacy employment system data formats and schemas to modern RESTful <strong>Spring Boot Applications</strong>.</li>
                                <li>Contributed to Java development of <strong>matching algorithms</strong> and API services for candidate processing against the specialized <strong>Elise</strong> database.</li>
                            </ul>
                            <p class="text-xs text-slate-500 mt-2">Skills: Spring Boot, REST APIs, Java EE, Data Migration, JDBC, Scrum.</p>
                        </div>
                    </div>
                </div>
                <!-- EXPERIENCE 6: Software Engineer (VKODIT) -->
                <div class="ml-8 md:ml-0">
                    <div class="absolute -left-1.5 mt-1.5 w-3 h-3 bg-[#005F73] rounded-full"></div>
                    <div class="md:grid md:grid-cols-2 md:gap-8">
                        <div class="md:text-right md:pr-8">
                            <time class="block mb-1 text-sm font-normal leading-none text-slate-500">Jan 2017 – Dec 2018 (2 yrs)</time>
                            <h3 class="text-xl font-semibold text-[#005F73]">Software Engineer</h3>
                            <span class="text-sm font-medium text-[#0A9396]">(Self-employed, VKODIT)</span>
                        </div>
                        <div class="p-4 bg-white rounded-lg border border-slate-200 shadow-sm mt-2 md:mt-0">
                            <ul class="list-disc ml-4 text-base font-normal text-slate-600 space-y-1">
                                <li>Developed <strong>C# .Net desktop applications</strong> and powershell automation tools with robust <strong>MSSQL</strong> database integration for small enterprises.</li>
                                <li>Managed development, project delivery, and client acquisition for <strong>E-Commerce solutions</strong> (WordPress/WooCommerce with custom PHP plugins).</li>
                            </ul>
                            <p class="text-xs text-slate-500 mt-2">Skills: C#, MSSQL, Java, PHP, E-Commerce, Software Project Management, Entrepreneurship.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW BLOCK: Architectural Competencies -->
        <section id="architecture" class="mb-16">
            <div class="max-w-5xl mx-auto">
                <h2 class="3xl font-bold text-center text-[#005F73] mb-8">Architectural Competencies</h2>
                <div class="architecture-grid grid gap-6">
                    <!-- Monolith Card -->
                    <div class="bg-white rounded-xl shadow-lg p-5 border-t-4 border-[#0A9396] architecture-card">
                        <div class="flex items-start gap-3">
                            <div class="text-2xl" aria-hidden="true">🏛️</div>
                            <div>
                                <h3 class="text-lg font-bold text-[#005F73]">Monolith</h3>
                                <p class="slate-600 text-sm mt-1">Maintain and evolve cohesive enterprise apps with clear boundaries and layered design.</p>
                                <div class="mt-3 flex flex-wrap gap-2">
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-[#f0f9fa] text-[#0A9396] font-semibold">Layered</span>
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-slate-100 text-slate-700 font-semibold">Modularization</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Microservices Card -->
                    <div class="bg-white rounded-xl shadow-lg p-5 border-t-4 border-[#EE9B00] architecture-card">
                        <div class="flex items-start gap-3">
                            <div class="text-2xl" aria-hidden="true">🧩</div>
                            <div>
                                <h3 class="text-lg font-bold text-[#005F73]">Microservices</h3>
                                <p class="text-slate-600 text-sm mt-1">Design resilient, independently deployable services with strong observability.</p>
                                <div class="mt-3 flex flex-wrap gap-2">
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-[#f0f9fa] text-[#0A9396] font-semibold">Service Discovery</span>
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-[#fff2e6] text-[#CA6702] font-semibold">API Gateway</span>
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-slate-100 text-slate-700 font-semibold">Observability</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Modulith Card -->
                    <div class="bg-white rounded-xl shadow-lg p-5 border-t-4 border-[#94D2BD] architecture-card">
                        <div class="flex items-start gap-3">
                            <div class="text-2xl" aria-hidden="true">🧱</div>
                            <div>
                                <h3 class="text-lg font-bold text-[#005F73]">Modulith</h3>
                                <p class="text-slate-600 text-sm mt-1">Build well-structured Spring applications with explicit module boundaries.</p>
                                <div class="mt-3 flex flex-wrap gap-2">
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-[#f0f9fa] text-[#0A9396] font-semibold">DDD</span>
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-[#fef7ec] text-[#EE9B00] font-semibold">Bounded Contexts</span>
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-slate-100 text-slate-700 font-semibold">Spring Modulith</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- SCS Card -->
                    <div class="bg-white rounded-xl shadow-lg p-5 border-t-4 border-[#CA6702] architecture-card">
                        <div class="flex items-start gap-3">
                            <div class="text-2xl" aria-hidden="true">📦</div>
                            <div>
                                <h3 class="text-lg font-bold text-[#005F73]">Self-Contained Services (SCS)</h3>
                                <p class="text-slate-600 text-sm mt-1">Expertise in developing vertically integrated services with dedicated frontend/backend stacks.</p>
                                <div class="mt-3 flex flex-wrap gap-2">
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-[#f0f9fa] text-[#0A9396] font-semibold">Java EE</span>
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-[#eef2ff] text-[#005F73] font-semibold">Vaadin</span>
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-slate-100 text-slate-700 font-semibold">Independent Stack</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Event-Driven Architecture Card -->
                    <div class="bg-white rounded-xl shadow-lg p-5 border-t-4 border-[#BB3E03] architecture-card">
                        <div class="flex items-start gap-3">
                            <div class="text-2xl" aria-hidden="true">🏗️</div>
                            <div>
                                <h3 class="text-lg font-bold text-[#005F73]">Event-Driven Architecture</h3>
                                <p class="text-slate-600 text-sm mt-1">Intermediate knowledge in designing systems that react to events for decoupled and scalable applications.</p>
                                <div class="mt-3 flex flex-wrap gap-2">
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-[#f0f9fa] text-[#0A9396] font-semibold">Event Sourcing</span>
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-[#fef7ec] text-[#EE9B00] font-semibold">Message Brokers</span>
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-slate-100 text-slate-700 font-semibold">Reactive Systems</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Asynchronous Messaging Patterns Card -->
                    <div class="bg-white rounded-xl shadow-lg p-5 border-t-4 border-[#AE2012] architecture-card">
                        <div class="flex items-start gap-3">
                            <div class="text-2xl" aria-hidden="true">📨</div>
                            <div>
                                <h3 class="text-lg font-bold text-[#005F73]">Asynchronous Messaging Patterns</h3>
                                <p class="text-slate-600 text-sm mt-1">Intermediate proficiency in implementing non-blocking communication for resilient and high-performance systems.</p>
                                <div class="mt-3 flex flex-wrap gap-2">
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-[#f0f9fa] text-[#0A9396] font-semibold">Pub/Sub</span>
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-[#fff2e6] text-[#CA6702] font-semibold">Queues</span>
                                    <span class="text-[11px] px-2 py-1 rounded-full bg-slate-100 text-slate-700 font-semibold">ZeroMQ</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="projects" class="mb-16">
            <h2 class="text-3xl font-bold text-center text-[#005F73] mb-8">Top GitHub Open Source Projects</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-white rounded-xl shadow-lg p-6 md:col-span-2">
                    <p class="text-slate-600">Highlighting contributions across core Java frameworks, financial integration, and applied AI/ML in high-performance contexts (GitHub: codesapienbe).</p>
                </div>

                    <div class="bg-white rounded-xl shadow-lg p-6 project-card-border project-card-border-primary">
                    <h4 class="text-lg font-semibold text-[#005F73]">Spring Vision Framework 👁️</h4>
                    <p class="text-sm font-medium text-[#0A9396] mb-2">Technologies: Spring Boot 3.x, Java 21, OpenCV | <a href="https://github.com/codesapienbe/spring-vision" target="_blank" class="github-link">GitHub Link</a></p>
                    <p class="text-slate-600 text-sm">A production-ready computer vision framework delivered as a <strong>Spring Boot Starter</strong>, enabling zero-configuration object detection, face analysis, and intelligent applications with enterprise security and high-performance pluggable backends.</p>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6 project-card-border project-card-border-warn">
                    <h4 class="text-lg font-semibold text-[#005F73]">Instyper - Voice-to-Text Desktop App 🎙️</h4>
                    <p class="text-sm font-medium text-[#0A9396] mb-2">Technologies: Java, Vosk, Whisper, GUI | <a href="https://github.com/codesapienbe/Instyper" target="_blank" class="github-link">GitHub Link</a></p>
                    <p class="text-slate-600 text-sm">A lightweight, privacy-first desktop application that turns your voice into text instantly. It works offline (Vosk) and supports modern online models (Whisper) and live translation.</p>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6 project-card-border project-card-border-warn2">
                    <h4 class="text-lg font-semibold text-[#005F73]">Stegnocchi - EXIF Steganography App 🖼️</h4>
                    <p class="text-sm font-medium text-[#0A9396] mb-2">Technologies: Core Java, Image Processing, Security | <a href="https://github.com/codesapienbe/Stegnocchi" target="_blank" class="github-link">GitHub Link</a></p>
                    <p class="text-slate-600 text-sm">A security tool built in <strong>Core Java</strong> focused on hiding data within image metadata (<strong>EXIF Steganography</strong>), showcasing low-level data manipulation and security principles.</p>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6 project-card-border project-card-border-danger2">
                    <h4 class="text-lg font-semibold text-[#005F73]">DeepVoice - Voice Analysis Library 🎤</h4>
                    <p class="text-sm font-medium text-[#0A9396] mb-2">Technologies: Python, AI/ML, Signal Processing | <a href="https://github.com/codesapienbe/DeepVoice" target="_blank" class="github-link">GitHub Link</a></p>
                    <p class="text-slate-600 text-sm">A comprehensive <strong>Python library</strong> for voice analysis, processing, and <strong>speaker identification</strong>, reinforcing active interest and competency in the AI/ML domain.</p>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-6 project-card-border project-card-border-info">
                    <h4 class="text-lg font-semibold text-[#005F73]">Spring ZeroMQ Starter 🧩🐙</h4>
                    <p class="text-sm font-medium text-[#0A9396] mb-2">Technologies: Java, Spring Boot, JeroMQ (ZeroMQ) | <a href="https://github.com/codesapienbe/spring-zeromq-starter" target="_blank" class="github-link">GitHub Link</a></p>
                    <p class="text-slate-600 text-sm">A Spring Boot starter that provides a zero-dependency messaging layer on <strong>ZeroMQ (JeroMQ)</strong> with end-to-end <strong>CURVE</strong> encryption, annotation-driven APIs, auto-configuration, vector messaging and GPU/CPU compute integrations.</p>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6 project-card-border project-card-border-emerald">
                    <h4 class="text-lg font-semibold text-[#005F73]">Spring Finqube ⚖️🏦</h4>
                    <p class="text-sm font-medium text-[#0A9396] mb-2">Technologies: Java, Spring Boot, ISO 20022 | <a href="https://github.com/codesapienbe/spring-finqube" target="_blank" class="github-link">GitHub Link</a></p>
                    <p class="text-slate-600 text-sm">Production-ready Spring starter for ISO 20022 financial messaging with enterprise security, PKI/HSM hooks, monitoring, and transport adapters for SWIFT/AMH.</p>
                </div>
            </div>
        </section>

        <!-- ENHANCED BLOCK: Professional Development & Training -->
        <section id="development" class="mb-16">
            <h2 class="text-3xl font-bold text-center text-[#005F73] mb-8">Professional Development & Training</h2>
            <div class="max-w-5xl mx-auto">
                <!-- Grid of small detailed cards -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 items-stretch auto-rows-fr">
                    <!-- Certifications -->
                    <div class="bg-white rounded-xl shadow-lg p-4 border border-slate-200 h-full">
                        <div class="text-[12px] font-semibold text-[#AE2012]">Expert Certification</div>
                        <h3 class="text-sm font-bold text-slate-800 mt-1">SWIFT Messaging Systems</h3>
                        <p class="xs text-slate-500">Internal Training (MX/MT, ISO 20022, AMH)</p>
                        <div class="mt-3 flex flex-wrap gap-2">
                            <span class="text-[10px] px-2 py-1 rounded-full bg-[#fff2e6] text-[#CA6702] font-semibold">SWIFT</span>
                            <span class="text-[10px] px-2 py-1 rounded-full bg-[#f6f7fb] text-[#005F73] font-semibold">ISO 20022</span>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-lg p-4 border border-slate-200 h-full">
                        <div class="text-[12px] font-semibold text-[#0A9396]">Certification</div>
                        <h3 class="text-sm font-bold text-slate-800 mt-1">Agile in Software Engineering</h3>
                        <p class="text-xs text-slate-500">SWIFT • Internal Training</p>
                        <div class="mt-3 flex flex-wrap gap-2">
                            <span class="text-[10px] px-2 py-1 rounded-full bg-[#fef7ec] text-[#EE9B00] font-semibold">Agile</span>
                            <span class="text-[10px] px-2 py-1 rounded-full bg-[#f0f9fa] text-[#0A9396] font-semibold">Team Practices</span>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-lg p-4 border border-slate-200 h-full">
                        <div class="text-[12px] font-semibold text-[#0A9396]">Certification</div>
                        <h3 class="text-sm font-bold text-slate-800 mt-1">Spring Boot and Angular</h3>
                        <p class="text-xs text-slate-500">VDAB • Internal Training</p>
                        <div class="mt-3 flex flex-wrap gap-2">
                            <span class="text-[10px] px-2 py-1 rounded-full bg-[#f0f9fa] text-[#0A9396] font-semibold">Spring</span>
                            <span class="text-[10px] px-2 py-1 rounded-full bg-[#eef2ff] text-[#005F73] font-semibold">Angular</span>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-lg p-4 border border-slate-200 h-full">
                        <div class="text-[12px] font-semibold text-[#0A9396]">Certification</div>
                        <h3 class="text-sm font-bold text-slate-800 mt-1">Enterprise Java Development</h3>
                        <p class="text-xs text-slate-500">INTEC Brussel • Training</p>
                        <div class="mt-3 flex flex-wrap gap-2">
                            <span class="text-[10px] px-2 py-1 rounded-full bg-[#f0f9fa] text-[#0A9396] font-semibold">Java</span>
                            <span class="text-[10px] px-2 py-1 rounded-full bg-[#f6f7fb] text-[#005F73] font-semibold">Spring</span>
                        </div>
                    </div>
                    <!-- Coursework -->
                    <div class="bg-white rounded-xl shadow-lg p-4 border border-slate-200 h-full">
                        <div class="text-[12px] font-semibold text-[#0A9396]">Coursework</div>
                        <h3 class="text-sm font-bold text-slate-800 mt-1">C and System Programming</h3>
                        <p class="text-xs text-slate-500">Istanbul, Turkiye</p>
                        <div class="mt-3 flex flex-wrap gap-2">
                            <span class="text-[10px] px-2 py-1 rounded-full bg-slate-100 text-slate-700 font-semibold">C</span>
                            <span class="text-[10px] px-2 py-1 rounded-full bg-[#fef7ec] text-[#EE9B00] font-semibold">Systems</span>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-lg p-4 border border-slate-200 h-full">
                        <div class="text-[12px] font-semibold text-[#0A9396]">Coursework</div>
                        <h3 class="text-sm font-bold text-slate-800 mt-1">System and Networking</h3>
                        <p class="text-xs text-slate-500">Bursa, Turkiye</p>
                        <div class="mt-3 flex flex-wrap gap-2">
                            <span class="text-[10px] px-2 py-1 rounded-full bg-[#f0f9fa] text-[#0A9396] font-semibold">Networking</span>
                            <span class="text-[10px] px-2 py-1 rounded-full bg-slate-100 text-slate-700 font-semibold">Linux</span>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-lg p-4 border border-slate-200 h-full">
                        <div class="text-[12px] font-semibold text-[#0A9396]">Coursework</div>
                        <h3 class="text-sm font-bold text-slate-800 mt-1">Graphical and Web Design</h3>
                        <p class="text-xs text-slate-500">Istanbul, Turkiye</p>
                        <div class="mt-3 flex flex-wrap gap-2">
                            <span class="text-[10px] px-2 py-1 rounded-full bg-[#eef2ff] text-[#005F73] font-semibold">Web</span>
                            <span class="text-[10px] px-2 py-1 rounded-full bg-slate-100 text-slate-700 font-semibold">Design</span>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-lg p-4 border border-slate-200 h-full">
                        <div class="text-[12px] font-semibold text-[#0A9396]">Self-Study</div>
                        <h3 class="text-sm font-bold text-slate-800 mt-1">Agile & Security Foundations</h3>
                        <p class="text-xs text-slate-500">Independent</p>
                        <div class="mt-3 flex flex-wrap gap-2">
                            <span class="text-[10px] px-2 py-1 rounded-full bg-[#fef7ec] text-[#EE9B00] font-semibold">Agile</span>
                            <span class="text-[10px] px-2 py-1 rounded-full bg-[#fff2e6] text-[#CA6702] font-semibold">Security</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- NEW CERTIFICATION ROADMAP SECTION -->
        <section id="roadmap" class="mb-16">
            <div class="max-w-5xl mx-auto bg-white rounded-xl shadow-lg p-8 border-t-4 border-[#AE2012]">
                <h2 class="3xl font-bold text-center text-[#005F73] mb-6">The Roadmap to Mastery 🗺️</h2>
                <p class="text-slate-600 mb-8 text-center">Commitment to achieving industry-leading certifications in Java, Spring, and Computer Vision, starting November 2025.</p>

                <div class="relative border-l-4 border-[#0A9396] ml-4 md:mx-auto max-w-4xl">
                    
                    <!-- Phase 1: OCP Java SE -->
                    <div class="mb-10 ml-8">
                        <div class="absolute -left-1.5 mt-1.5 w-3 h-3 bg-[#0A9396] rounded-full"></div>
                        <time class="block mb-1 text-base font-bold leading-none text-[#005F73]">Phase 1: Nov 2025 - Mar 2026 (5 Months)</time>
                        <h3 class="text-xl font-semibold text-slate-800">Oracle Certified Professional (OCP) - Java SE Developer <a href="https://www.ucertify.com/p/oracle-certified-professional-java-se-17-developer.html" target="_blank" class="hover:text-[#005F73]" title="View Official Certification Details">(Link)</a></h3>
                        <p class="mt-2 text-base font-normal text-slate-600">Mastery of <strong>Core Java language specifics</strong> (Concurrency, Streams, Generics, and File I/O) necessary for enterprise performance and reliability.</p>
                    </div>

                    <!-- Phase 2: VMware Tanzu Spring Professional -->
                    <div class="mb-10 ml-8">
                        <div class="absolute -left-1.5 mt-1.5 w-3 h-3 bg-[#EE9B00] rounded-full"></div>
                        <time class="block mb-1 text-base font-bold leading-none text-[#005F73]">Phase 2: Apr 2026 - Jun 2026 (3 Months)</time>
                        <h3 class="text-xl font-semibold text-slate-800">VMware Tanzu Spring Professional Certification <a href="https://www.spring-certification.com/spring-exam-details" target="_blank" class="hover:text-[#005F73]" title="View Official Certification Details">(Link)</a></h3>
                        <p class="mt-2 text-base font-normal text-slate-600">Validating expert-level knowledge of the <strong>Spring ecosystem</strong>, focusing on DI, AOP, Transactions, <strong>Spring Security</strong>, and <strong>Spring Boot Autoconfiguration</strong>.</p>
                    </p>
                    </div>

                    <!-- Phase 3: Official OpenCV Certification -->
                    <div class="ml-8">
                        <div class="absolute -left-1.5 mt-1.5 w-3 h-3 bg-[#AE2012] rounded-full"></div>
                        <time class="block mb-1 text-base font-bold leading-none text-[#005F73]">Phase 3: Jul 2026 - Aug 2026 (2 Months)</time>
                        <h3 class="text-xl font-semibold text-slate-800">Official OpenCV Certification (Computer Vision) <a href="https://opencv.org/university/courses/" target="_blank" class="hover:text-[#005F73]" title="View Official Certification Details">(Link)</a></h3>
                        <p class="mt-2 text-base font-normal text-slate-600">Formalizing applied AI experience by mastering image processing, object detection, and <strong>DNN module integration</strong> using the OpenCV library.</p>
                    </div>
                </div>

            </div>
        </section>


        <!-- ENHANCED BLOCK: Education & Languages -->
        <section id="education" class="mb-16">
            <h2 class="3xl font-bold text-center text-[#005F73] mb-8">Education & Global Competencies</h2>
            <div class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Academic History Card (Spanning 3 columns) -->
                <div class="bg-white rounded-xl shadow-lg p-6 border-t-4 border-[#0A9396] md:col-span-3">
                    <h3 class="text-xl font-bold text-[#0A9396] mb-4">Academic History 🎓</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-x-6 gap-y-4">
                        <div class="space-y-1">
                            <p class="text-lg font-semibold text-slate-800"><a href="https://www.erasmushogeschool.be/en/programmes/postgraduate-applied-artificial-intelligence" target="_blank" class="hover:text-[#0A9396]">Postgraduate AI & Machine Learning</a></p>
                            <p class="sm text-slate-600">Erasmushogeschool Brussel, Belgium</p>
                            <span class="text-xs font-semibold text-[#005F73] px-2 py-0.5 bg-[#eef2ff] rounded">Completed</span>
                        </div>
                        <div class="space-y-1">
                            <p class="text-lg font-semibold text-slate-800"><a href="https://www.qmul.ac.uk/postgraduate/course-info/computing-and-data-science/" target="_blank" class="hover:text-[#0A9396]">MSc in Computing and Information Systems</a></p>
                            <p class="text-sm text-slate-600">Queen Mary, University of London, UK (2013)</p>
                            <span class="text-xs font-semibold text-[#AE2012] px-2 py-0.5 bg-[#fce8e8] rounded">Incomplete Study</span>
                        </div>
                        <div class="space-y-1">
                            <p class="text-lg font-semibold text-slate-800"><a href="https://www.beykent.edu.tr" target="_blank" class="hover:text-[#0A9396]">Bachelor Degree, Tourism and Hotel Management</a></p>
                            <p class="text-sm text-slate-600">Beykent University, Istanbul, Turkiye (2010)</p>
                            <span class="text-xs font-semibold text-[#0A9396] px-2 py-0.5 bg-[#e9f7f9] rounded">Completed</span>
                        </div>
                    </div>
                </div>
                
                <!-- Languages & Domain Card (Span 3 columns for its own row below academic history) -->
                <div class="bg-white rounded-xl shadow-lg p-6 border-t-4 border-[#005F73] md:col-span-3">
                    <h3 class="text-xl font-bold text-[#0A9396] mb-4">Languages & Domain 🗣️</h3>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-4">
                        <div class="p-4 border border-slate-100 rounded-lg">
                            <p class="text-base font-semibold text-slate-800 mb-2">Language Proficiency</p>
                            
                            <!-- Language: Turkish (Native / 100%) -->
                            <div class="mb-3">
                                <p class="text-sm text-slate-700 font-medium flex justify-between items-center">
                                    <span>Turkish (Native)</span>
                                    <span class="text-xs text-[#005F73]">100%</span>
                                </p>
                                <div class="lang-progress-bar">
                                    <div class="lang-progress-fill bg-[#005F73] w-100" title="Native Proficiency"></div>
                                </div>
                            </div>
                            
                            <!-- Language: English (Fluent / 85%) -->
                            <div class="mb-3">
                                <p class="text-sm text-slate-700 font-medium flex justify-between items-center">
                                    <span>English (Fluent)</span>
                                    <span class="text-xs text-[#0A9396]">85%</span>
                                </p>
                                <div class="lang-progress-bar">
                                    <div class="lang-progress-fill bg-[#0A9396] w-85" title="Fluent Proficiency"></div>
                                </div>
                            </div>

                            <!-- Language: Dutch (Professional / 70%) -->
                            <div class="mb-3">
                                <p class="text-sm text-slate-700 font-medium flex justify-between items-center">
                                    <span>Dutch (Professional)</span>
                                    <span class="text-xs text-[#94D2BD]">70%</span>
                                </p>
                                <div class="lang-progress-bar">
                                    <div class="lang-progress-fill bg-[#94D2BD] w-70" title="Professional Proficiency"></div>
                                </div>
                            </div>
                        </div>

                        <div class="p-4 border border-slate-100 rounded-lg">
                            <p class="text-base font-semibold text-slate-800 mb-2">Domain Expertise</p>
                            <div class="grid grid-cols-2 gap-3 text-sm text-slate-700">
                                <div class="flex items-center space-x-2 p-2 bg-slate-50 rounded">
                                    <span class="text-[#005F73]">🏦</span>
                                    <span class="font-medium">Financial Messaging</span>
                                </div>
                                <div class="flex items-center space-x-2 p-2 bg-slate-50 rounded">
                                    <span class="text-[#0A9396]">⚙️</span>
                                    <span class="font-medium">Enterprise Software</span>
                                
                                </div>
                                <div class="flex items-center space-x-2 p-2 bg-slate-50 rounded">
                                    <span class="text-[#005F73]">👨‍🏫</span>
                                    <span class="font-medium">Technical Training</span>
                                </div>
                                <div class="flex items-center space-x-2 p-2 bg-slate-50 rounded">
                                    <span class="text-[#0A9396]">🧠</span>
                                    <span class="font-medium">AI/ML Concepts</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center mt-12 pt-8 border-t border-slate-200">
        <div class="flex justify-center space-x-6 text-slate-600">
            <a href="mailto:yilmaz@codesapien.net" class="hover:text-[#0A9396] transition duration-200" title="Email: yilmaz@codesapien.net">📧 Email</a>
            <a href="https://codesapien.net" target="_blank" class="hover:text-[#0A9396] transition duration-200" title="Portfolio: codesapien.net">🌐 Portfolio</a>
            <a href="https://www.linkedin.com/in/codesapienbe" target="_blank" class="hover:text-[#0A9396] transition duration-200" title="LinkedIn: codesapienbe">💼 LinkedIn</a>
            <a href="https://github.com/codesapienbe" target="_blank" class="hover:text-[#0A9396] transition duration-200" title="GitHub: codesapienbe">🐙 GitHub</a>
        </div>
        <p class="text-sm text-slate-500 mt-4">Visual Resume for Yilmaz Mustafa.</p>
    </footer>
    
    <!-- NEW: Floating Action Button Group (Multimedia Controls - Right Bottom) -->
    <div id="floating-buttons" role="group" aria-label="Multimedia Resume Options">
        <button id="audio-toggle-btn" title="Listen to Resume Summary (Audio)" class="bg-[#005F73] hover:bg-[#0A9396]">
            <span aria-hidden="true">🎤</span>
        </button>
        <button onclick="openPlayerModal('video')" title="Watch Video Walkthrough (Visual Resume Demo)" class="bg-[#EE9B00] hover:bg-[#CA6702]">
            <span aria-hidden="true">🎬</span>
        </button>
    </div>

    <!-- NEW: Floating Export to PDF Button (Left Bottom, above Word) -->
    <button id="export-resume-pdf-float" onclick="window.print()" title="Export Visual Resume as PDF (Print)">
        <span aria-hidden="true">🖨️</span>
    </button>

    <!-- NEW: Floating Export to Word Button (Left Bottom) -->
    <button id="export-resume-float" onclick="exportFullResume()" title="Export Full Resume as MS Word (.doc)">
        <span aria-hidden="true">💾</span>
    </button>

    <!-- Theme Toggle -->
    <button id="theme-toggle-btn" aria-label="Toggle theme" title="Toggle theme" class="theme-toggle-btn">🌙</button>

    <!-- NEW: Sticky Audio Player Bar -->
    <div id="audio-player-bar">
        <p class="audio-title mr-4">Resume Audio Summary</p>
        <div class="audio-controls">
            <audio id="resume-audio" style="display:none;" controls preload="none">
                <source src="https://raw.githubusercontent.com/codesapienbe/me/refs/heads/main/resume.m4a" type="audio/mp4">
                Your browser does-not-support the audio element.
            </audio>

            <!-- Custom Play/Pause Button -->
            <button id="play-pause-btn" title="Play/Pause">▶️</button>
            
            <!-- Go to Beginning Button -->
            <button id="restart-btn" title="Go to Beginning">⏮️</button>
            
            <!-- Download Button -->
            <a id="download-link" href="https://raw.githubusercontent.com/codesapienbe/me/refs/heads/main/resume.m4a" download="Resume_Summary.m4a" title="Download Audio">💾</a>

            <!-- Close Button -->
            <button id="close-audio-btn" title="Close Player">❌</button>
        </div>
    </div>

</div>

<script>
    // --- STICKY HEADER SCROLL LOGIC ---
    const stickyHeader = document.getElementById('sticky-header');
    const mainHeader = document.getElementById('personal-snapshot'); // Use the new section for height reference
    
    // Recalculate header height dynamically
    const updateStickyHeader = () => {
        const headerHeight = mainHeader.offsetHeight;
        if (window.scrollY > headerHeight) {
            stickyHeader.classList.add('visible');
        } else {
            stickyHeader.classList.remove('visible');
        }
    };

    window.addEventListener('scroll', updateStickyHeader);

    // Initial check and ensure calculation after load
    window.addEventListener('load', () => {
        updateStickyHeader();
    });

    // --- THEME TOGGLE & PERSISTENCE ---
    const themeToggleBtn = document.getElementById('theme-toggle-btn');
    /**
     * Apply theme. If persist === true we store the user's explicit choice.
     * If persist === false (used for system-driven changes) we don't overwrite stored preference.
     */
    const applyTheme = (theme, persist = false) => {
        if (theme === 'dark') {
            document.documentElement.classList.add('dark');
            if (themeToggleBtn) themeToggleBtn.textContent = '☀️';
        } else {
            document.documentElement.classList.remove('dark');
            if (themeToggleBtn) themeToggleBtn.textContent = '🌙';
        }
        try { if (persist) localStorage.setItem('preferredTheme', theme); } catch (e) { /* ignore */ }
    };

    // Initialize theme: respect an explicit saved preference, otherwise follow system and keep following changes.
    const getSavedTheme = () => { try { return localStorage.getItem('preferredTheme'); } catch (e) { return null; } };
    const savedTheme = getSavedTheme();
    const prefersDarkMQ = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)');

    if (savedTheme === 'dark' || savedTheme === 'light') {
        applyTheme(savedTheme, true);
    } else {
        // No explicit preference -> follow system
        const initialIsDark = prefersDarkMQ ? prefersDarkMQ.matches : false;
        applyTheme(initialIsDark ? 'dark' : 'light', false);

        // Listen for system theme changes and apply them as long as the user hasn't chosen an explicit theme
        if (prefersDarkMQ) {
            const mqListener = (e) => {
                // Only auto-change if user hasn't persisted a preference
                if (!getSavedTheme()) {
                    applyTheme(e.matches ? 'dark' : 'light', false);
                }
            };
            if (typeof prefersDarkMQ.addEventListener === 'function') {
                prefersDarkMQ.addEventListener('change', mqListener);
            } else if (typeof prefersDarkMQ.addListener === 'function') {
                prefersDarkMQ.addListener(mqListener);
            }
        }
    }

    if (themeToggleBtn) {
        themeToggleBtn.addEventListener('click', () => {
            const current = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
            const next = current === 'dark' ? 'light' : 'dark';
            // User-initiated toggle should persist preference
            applyTheme(next, true);
        });
    }


    // --- CARD FLIP LOGIC ---
    // The flip logic is handled by the inline onclick="this.classList.toggle('flipped')" 
    // on the .flip-card div for simplicity and zero dependencies.

    // --- COUNTER ANIMATION LOGIC ---
    function animateCounter(id, target, duration, isK) {
        const element = document.getElementById(id);
        if (!element) return;
        const start = 0;
        let startTime = null;

        const step = (timestamp) => {
            if (!startTime) startTime = timestamp;
            const progress = timestamp - startTime;
            const percentage = Math.min(progress / duration, 1);
            let value = Math.floor(percentage * target);

            if (isK) {
                element.textContent = value.toLocaleString() + '+';
            } else {
                element.textContent = value + (id === 'counter1' ? '+' : '+');
            }

            if (progress < duration) {
                window.requestAnimationFrame(step);
            }
        };

        window.requestAnimationFrame(step);
    }

    function startCounters() {
        // Only run if not in print mode
        if (window.matchMedia('print').matches) return;
        
        animateCounter('counter1', 8, 2000, false);
        animateCounter('counter2', 100, 2000, false);
        animateCounter('counter3', 10000, 2000, true);
    }

    // Initialize counters on window load (and ensure charts initialize)
    window.onload = () => {
        initializeCharts();
        startCounters();
        // Recalculate header height after all content/images load for sticky functionality
        updateStickyHeader(); 
    };


    // --- CHART.JS CONFIGURATION ---
    const tooltipTitleCallback = {
        plugins: {
            tooltip: {
                callbacks: {
                    title: function(tooltipItems) {
                        const item = tooltipItems[0];
                        let label = item.chart.data.labels[item.dataIndex];
                        if (Array.isArray(label)) {
                            return label.join(' ');
                        }
                        return label;
                    }
                }
            }
        }
    };

    const colors = {
        primary: '#005F73',
        secondary: '#0A9396',
        accent: '#94D2BD',
        highlight: '#E9D8A6',
        danger1: '#EE9B00',
        danger2: '#CA6702',
        danger3: '#BB3E03',
        danger4: '#AE2012'
    };

    // Store Chart Instances globally for data URL export
    let javaChartInstance;
    let apiDbChartInstance;
    let devopsChartInstance;

    function initializeCharts() {
        // Destroy existing instances if they exist (important for re-runs in some environments)
        if (javaChartInstance) javaChartInstance.destroy();
        if (apiDbChartInstance) apiDbChartInstance.destroy();
        if (devopsChartInstance) devopsChartInstance.destroy();


        // New Backend & Databases Chart (Doughnut)
        javaChartInstance = new Chart(document.getElementById('javaSkillsChart'), {
            type: 'doughnut',
            data: {
                labels: ['Spring Boot 3.x', 'Java 17-21+', 'PostgreSQL', 'Messaging/MQ', 'JPA/Hibernate'],
                datasets: [{
                    label: 'Backend & Databases',
                    data: [25, 20, 20, 15, 20],
                    backgroundColor: [colors.primary, colors.secondary, colors.danger2, colors.danger1, colors.accent],
                    borderColor: '#fff',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    ...tooltipTitleCallback.plugins,
                    legend: {
                        position: 'bottom',
                    },
                }
            }
        });

        // New Frontend & Design Chart (Horizontal Bar - good for proficiency visual)
        apiDbChartInstance = new Chart(document.getElementById('apiDbSkillsChart'), {
            type: 'bar',
            data: {
                labels: ['Vaadin (Expert)', 'React (Strong)', ['HTML, CSS, JS/TS', ' (Strong)'], 'GWT (Intermediate)', 'React Native (Applied)'],
                datasets: [{
                    label: 'Proficiency',
                    data: [95, 80, 85, 60, 50],
                    backgroundColor: [colors.secondary, colors.primary, colors.accent, colors.highlight, colors.danger1],
                    borderRadius: 4
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 100,
                        grid: { display: false }
                    },
                    y: { grid: { display: false } }
                },
                plugins: {
                    ...tooltipTitleCallback.plugins,
                    legend: {
                        display: false
                    }
                }
            }
        });

        // New DevOps & AI/ML Chart (Radar - good for varied skills)
        devopsChartInstance = new Chart(document.getElementById('devopsSkillsChart'), {
            type: 'radar',
            data: {
                labels: ['Docker (Expert)', 'CI/CD (Expert)', 'Kubernetes', 'Terraform', 'Python/ML', 'Ansible'],
                datasets: [{
                    label: 'DevOps & AI/ML Skills',
                    data: [95, 90, 70, 65, 55, 40],
                    fill: true,
                    backgroundColor: 'rgba(10, 147, 150, 0.2)',
                    borderColor: colors.secondary,
                    pointBackgroundColor: colors.secondary,
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: colors.secondary
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    ...tooltipTitleCallback.plugins,
                    legend: {
                        position: 'bottom',
                    },
                },
                scales: {
                    r: {
                        angleLines: {
                            color: 'rgba(0, 0, 0, 0.1)'
                        },
                        suggestedMin: 0,
                        suggestedMax: 100,
                        pointLabels: {
                            font: {
                                size: 12
                            }
                        }
                    }
                }
            }
        });
    }


    // --- MULTIMEDIA MODAL (Video) LOGIC ---
    // Placeholder function for video player (still uses a modal)
    const videoUrl = 'https://mockup.codesapien.net/resume-video-walkthrough.mp4';
    
    window.openPlayerModal = function(type) {
        if (type !== 'video') return; 

        // Create a temporary modal structure for the video
        const modalHtml = `
            <div id="video-modal-overlay" class="modal-overlay" style="display:flex;" onclick="if (event.target.id === 'video-modal-overlay') closePlayerModal()">
                <div class="modal-content">
                    <button class="modal-close-btn" onclick="closePlayerModal()">×</button>
                    <div id="media-container" class="relative">
                        <video id="resume-video" controls autoplay style="max-width: 100%; max-height: 80vh;">
                            <source src="${videoUrl}" type="video/mp4">
                            Your browser does not support the video element.
                        </video>
                    </div>
                </div>
            </div>`;
        document.body.insertAdjacentHTML('beforeend', modalHtml);
    }

    window.closePlayerModal = function() {
        const videoModal = document.getElementById('video-modal-overlay');
        if (videoModal) {
            const video = document.getElementById('resume-video');
            if (video) video.pause();
            videoModal.remove();
        }
    }


    // --- AUDIO PLAYER LOGIC ---
    const audioBar = document.getElementById('audio-player-bar');
    const audioToggleBtn = document.getElementById('audio-toggle-btn');
    const resumeAudio = document.getElementById('resume-audio');
    const playPauseBtn = document.getElementById('play-pause-btn');
    const restartBtn = document.getElementById('restart-btn');

    let isAudioPlayerVisible = false;

    const updatePlayButton = () => {
        playPauseBtn.innerHTML = resumeAudio.paused || resumeAudio.ended ? '▶️' : '⏸️';
        playPauseBtn.title = resumeAudio.paused || resumeAudio.ended ? 'Play' : 'Pause';
    };

    const toggleAudioBar = () => {
        if (isAudioPlayerVisible) {
            // Hide and stop
            resumeAudio.pause();
            resumeAudio.currentTime = 0;
            audioBar.style.display = 'none';
            audioToggleBtn.classList.remove('bg-[#CA6702]', 'hover:bg-[#BB3E03]');
            audioToggleBtn.classList.add('bg-[#005F73]', 'hover:bg-[#0A9396]');
            audioToggleBtn.title = "Listen to Resume Summary (Audio)";
        } else {
            // Show and play
            audioBar.style.display = 'flex';
            resumeAudio.play().catch(e => console.error("Audio playback failed:", e));
            audioToggleBtn.classList.remove('bg-[#005F73]', 'hover:bg-[#0A9396]');
            audioToggleBtn.classList.add('bg-[#CA6702]', 'hover:bg-[#BB3E03]');
            audioToggleBtn.title = "Pause and Close Audio Player";
        }
        isAudioPlayerVisible = !isAudioPlayerVisible;
        updatePlayButton();
    };

    audioToggleBtn.addEventListener('click', toggleAudioBar);
    document.getElementById('close-audio-btn').addEventListener('click', toggleAudioBar);

    playPauseBtn.addEventListener('click', () => {
        if (resumeAudio.paused || resumeAudio.ended) {
            resumeAudio.play().catch(e => console.error("Play failed:", e));
        } else {
            resumeAudio.pause();
        }
        updatePlayButton();
    });

    restartBtn.addEventListener('click', () => {
        resumeAudio.currentTime = 0;
        if (resumeAudio.paused) {
             resumeAudio.play().catch(e => console.error("Play failed:", e));
        }
        updatePlayButton();
    });

    resumeAudio.addEventListener('play', updatePlayButton);
    resumeAudio.addEventListener('pause', updatePlayButton);
    resumeAudio.addEventListener('ended', updatePlayButton);


    // --- LOCAL SKILL MATCHER DATA & LOGIC ---
    const candidateSkills = [
        'Java 21', 'Java 17', 'Spring Boot 3.x', 'Spring Cloud', 'Spring Security', 'REST', 'SOAP',
        'PostgreSQL', 'Oracle', 'JPA', 'Hibernate', 'GraphQL', 'Docker', 'Kubernetes',
        'Terraform', 'Jenkins', 'CI/CD', 'DevOps', 'Microservices', 'Modulith', 'Monolith', 'SCS',
        'TDD', 'JUnit 5', 'Mockito', 'OpenAPI', 'Swagger', 'Messaging', 'MQ', 'Python', 'Computer Vision',
        'ElasticSearch', 'ZeroMQ', 'C#', 'MSSQL', 'Vaadin', 'React'
    ];

    const experiencePoints = [
        { keyword: 'concurrent users', context: 'Supported 10k+ concurrent users in high-performance Spring Boot apps (Freelance).' },
        { keyword: 'CI/CD', context: 'Orchestrated CI/CD pipelines with Docker and Terraform (Freelance & University).' },
        { keyword: 'financial messaging', context: 'Maintained mission-critical financial messaging systems (SWIFT AMH).' },
        { keyword: 'security', context: 'Executed security upgrades using cryptographic standards (SWIFT).' },
        { keyword: 'testing', context: 'Implemented robust automated testing strategies (TheMatchBox).' },
        { keyword: 'ElasticSearch', context: 'Developed custom ElasticSearch Java Plugins for search algorithms (TheMatchBox).' },
        { keyword: 'ZeroMQ', context: 'Used ZeroMQ for inter-service communication to reduce latency (TheMatchBox).' },
        { keyword: 'C#', context: 'Developed C# desktop applications with MSSQL database integration (VKODIT).' },
        { keyword: 'Python AI', context: 'Developed Python AI/Computer Vision systems with TensorFlow (Freelance AI).' },
        { keyword: 'starter', context: 'Developed Spring Boot Starter frameworks (Spring Vision).' },
        { keyword: 'MQ', context: 'Experienced with IBM MQ and other messaging protocols (SWIFT).' }
    ];

    const companyNameInput = document.getElementById('companyNameInput');
    const companyUrlInput = document.getElementById('companyUrlInput');
    const analyzeButton = document.getElementById('analyzeButton');
    const jobDescriptionInput = document.getElementById('jobDescriptionInput');
    const outputContent = document.getElementById('outputContent');
    const outputPlaceholder = document.getElementById('outputPlaceholder');
    const loadingSpinner = document.getElementById('loadingSpinner');
    const exportContainer = document.getElementById('exportContainer');
    const exportButton = document.getElementById('exportButton');

    // Button to export full CV from header
    const exportFullCVButton = document.getElementById('exportFullCVButton');


    let lastAnalysisResult = {
        matchScore: 0,
        matchedSkills: [],
        alignmentHits: [],
        jobDescription: '',
        companyName: '',
        companyUrl: ''
    };

    const markdownToHtml = (markdownText) => {
        let html = markdownText;

        // Convert newlines to <br> for basic formatting
        html = html.replace(/(\r\n|\n|\r)/gm, '<br>');

        // Bold: **text** or __text__ to <strong>
        html = html.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
        html = html.replace(/__(.*?)__/g, '<strong>$1</strong>');

        // Italic: *text* or _text_ to <em>
        html = html.replace(/\*(.*?)\*/g, '<em>$1</em>');
        html = html.replace(/_(.*?)_/g, '<em>$1</em>');

        return html;
    };

    const runLocalMatch = (jobDescription, companyName, companyUrl) => {
        const jdLower = jobDescription.toLowerCase();
        const skillHits = {};
        let totalMatchCount = 0;

        // 1. Convert Job Description for display (Preview logic)
        const formattedJobDescription = markdownToHtml(jobDescription);

        // Set input field as preview and read-only
        jobDescriptionInput.innerHTML = formattedJobDescription;
        jobDescriptionInput.readOnly = true;
        companyNameInput.readOnly = true;
        companyUrlInput.readOnly = true;


        // 2. Calculate Skill Matches
        candidateSkills.forEach(skill => {
            const skillLower = skill.toLowerCase();
            // Use word boundary to prevent partial matches (e.g., 'java' matching 'javascript')
            const regex = new RegExp('\\b' + skillLower.replace(/[.*+?^${}()|[\]\\]/g, '\\$&') + '\\b', 'g');
            if (jdLower.match(regex)) {
                skillHits[skill] = (skillHits[skill] || 0) + 1;
                totalMatchCount++;
            }
        });

        // Sort matched skills by hit count (and then alphabetically)
        const matchedSkills = Object.entries(skillHits)
            .sort(([, a], [, b]) => b - a)
            .slice(0, 5)
            .map(([skill]) => skill);

        // 3. Calculate Contextual Alignment
        const alignmentHits = [];
        experiencePoints.forEach(point => {
            if (jdLower.includes(point.keyword.toLowerCase())) {
                alignmentHits.push(point.context);
            }
        });

        // 4. Generate Output and Update Cache
        const matchScore = Math.min(Math.round((totalMatchCount / 10) * 100), 100);

        lastAnalysisResult = {
            matchScore,
            matchedSkills,
            alignmentHits,
            jobDescription,
            companyName,
            companyUrl
        };

        // Generate Simulated Security Report
        const securityReport = generateSimulatedSecurityReport(companyUrl);

        // Format HTML Output
        const formattedSkills = matchedSkills.map(s => `<li>${s}</li>`).join('\n') || '<li>No direct keyword matches found.</li>';
        const formattedAlignment = alignmentHits.map(h => `<li>Relevant Experience: ${h}</li>`).join('\n') || '<li>No direct experience context matches found.</li>';
        const formattedSecurity = securityReport.map(item => `<li class="text-xs">${item.status} ${item.check}: ${item.result}</li>`).join('');


        const analysisOutput = `
                <p><strong>Match Score: ${matchScore}% 🎯</strong><br>
                (Based on alignment of top 20 prioritized keywords)</p>

                <hr class="my-3 border-t border-slate-300">

                <p><strong>Top ${matchedSkills.length} Matching Skills/Keywords:</strong></p>
                <ul>
                    ${formattedSkills}
                </ul>

                <hr class="my-3 border-t border-slate-300">

                <p><strong>Key Experience Alignment:</strong></p>
                <ul>
                    ${formattedAlignment}
                </ul>

                <hr class="my-3 border-t border-slate-300">

                <p><strong>Simulated Security Assessment:</strong></p>
                <ul class="space-y-1">
                    ${formattedSecurity}
                </ul>
                <p class="text-xs text-slate-500 mt-2"><em>*This is a simulated report for presentation purposes only, based on assumed security best practices.</em></p>
            `;


        outputContent.innerHTML = `<div class="bg-slate-50 p-4 rounded-lg border border-slate-200 overflow-x-auto text-sm">${analysisOutput}</div>`;
        exportContainer.classList.remove('hidden');
    };

    // --- SIMULATED SECURITY CHECK LOGIC ---
    const generateSimulatedSecurityReport = (url) => {
        const isHttps = url.toLowerCase().startsWith('https');
        const domain = url.replace(/https?:\/\//i, '').split('/')[0];

        const results = [
            {
                check: 'HTTPS Encryption (TLS/SSL)',
                result: isHttps ? 'Strong baseline security detected.' : 'Missing. Recommended: Implement HTTPS (TLS 1.2+).',
                status: isHttps ? '✅' : '⚠️'
            },
            {
                check: 'HSTS Header Enforcement',
                result: 'Assumed strong. Promotes use of secure connections only.',
                status: '✅'
            },
            {
                check: 'Content Security Policy (CSP)',
                result: 'Assumed basic. Reduces risks from cross-site scripting (XSS) and injection attacks.',
                status: '☑️'
            },
            {
                check: 'Subresource Integrity (SRI) Check',
                result: 'Assumed compliance. Verifies external scripts haven\'t been tampered with.',
                status: '✅'
            },
            {
                check: 'Domain Security Health',
                result: `Domain ${domain} is assumed to have standard security headers.`,
                status: 'ℹ️'
            },
        ];
        return results;
    };

    analyzeButton.addEventListener('click', () => {
        const jobDescription = jobDescriptionInput.value.trim();
        const companyName = companyNameInput.value.trim();
        const companyUrl = companyUrlInput.value.trim();

        if (!jobDescription || !companyName || !companyUrl) {
            outputContent.innerHTML = '<span class="text-[#AE2012]">Please fill in the Company Name, URL, and Job Description to run the analysis.</span>';
            outputPlaceholder.style.display = 'none';
            exportContainer.classList.add('hidden');
            return;
        }

        loadingSpinner.style.display = 'inline-block';
        analyzeButton.disabled = true;
        outputPlaceholder.style.display = 'none';
        outputContent.innerHTML = '';

        setTimeout(() => {
            runLocalMatch(jobDescription, companyName, companyUrl);
            loadingSpinner.style.display = 'none';
            analyzeButton.disabled = false;
        }, 100);
    });

    // Add handler to reset state when user clears the input
    const resetState = () => {
        jobDescriptionInput.readOnly = false;
        companyNameInput.readOnly = false;
        companyUrlInput.readOnly = false;
        jobDescriptionInput.value = jobDescriptionInput.value.replace(/<br>/g, '\n').replace(/<strong>(.*?)<\/strong>/g, '**$1**'); // Restore raw text for editing
        outputPlaceholder.style.display = 'block';
        outputContent.innerHTML = '';
        exportContainer.classList.add('hidden');
    }

    jobDescriptionInput.addEventListener('input', () => {
        if (jobDescriptionInput.readOnly && jobDescriptionInput.value.trim() !== '') {
            // If the user starts typing in the read-only preview, reset the state
            resetState();
        } else if (jobDescriptionInput.value.trim() === '') {
            // If input is cleared, ensure a full reset
            resetState();
        }
    });

    // Also allow clearing if name/url change after analysis
    companyNameInput.addEventListener('input', () => { if (jobDescriptionInput.readOnly) resetState(); });
    companyUrlInput.addEventListener('input', () => { if (jobDescriptionInput.readOnly) resetState(); });

    // Hook up export button for match report
    if (exportButton) {
        exportButton.addEventListener('click', () => {
            exportMatchReport();
        });
    };

    // Restore persisted export section choices on load
    try {
        const saved = JSON.parse(localStorage.getItem('exportSections') || 'null');
        if (Array.isArray(saved)) {
            document.querySelectorAll('.export-section').forEach(cb => {
                cb.checked = saved.includes(cb.value);
            });
        }
    } catch (e) {
        /* ignore */
    }

    // Hook up export button for full CV
    const exportFullCVButtonFloat = document.getElementById('export-resume-float');
    if (exportFullCVButtonFloat) {
        exportFullCVButtonFloat.addEventListener('click', () => {
            exportFullResume();
        });
    };


    // --- WORD EXPORT LOGIC ---
    const exportMatchReport = () => {
        const { matchScore, matchedSkills, alignmentHits, jobDescription, companyName, companyUrl } = lastAnalysisResult;
        // Read preview and section options set by the user
        const previewToggle = document.getElementById('previewToggle');
        const selectedSections = Array.from(document.querySelectorAll('.export-section')).filter(cb => cb.checked).map(cb => cb.value);
        const include = (name) => selectedSections.includes(name);

        // Convert raw job description using markdownToHtml for the Word document
        const htmlJobDescription = markdownToHtml(jobDescription);

        const htmlSkills = matchedSkills.map(s => `<li style="margin-bottom: 8px; padding: 5px; background-color: var(--card-muted-bg); border-left: 3px solid var(--accent);">${s}</li>`).join('');
        const htmlAlignment = alignmentHits.map(h => `<li style="margin-bottom: 8px; padding: 5px; background-color: var(--warn-bg); border-left: 3px solid var(--warn);">${h}</li>`).join('');

        const securityReport = generateSimulatedSecurityReport(companyUrl);
        const htmlSecurity = securityReport.map(item => `
                <div class="security-row">
                    <div class="security-status">${item.status}</div>
                    <div class="security-check">${item.check}</div>
                    <div class="security-result">${item.result}</div>
                </div>
            `).join('');

        // Create a visual score indicator
        const scoreColor = matchScore >= 80 ? 'var(--success)' : matchScore >= 60 ? 'var(--warn)' : matchScore >= 40 ? 'var(--warn-2)' : 'var(--danger-2)';
        const scoreLabel = matchScore >= 80 ? 'Excellent Match' : matchScore >= 60 ? 'Good Match' : matchScore >= 40 ? 'Moderate Match' : 'Limited Match';

        // Inject theme-aware inline CSS for Word export (adapts to current theme)
        const exportThemeStyles = (() => {
            const isDark = document.documentElement.classList.contains('dark');
            if (isDark) {
                return `
                    :root{
                        --bg: #071229;
                        --text: #e6eef6;
                        --muted: #94a3b8;
                        --primary: #89b8a9;
                        --accent: #5fb5a6;
                        --card-bg: #071229;
                        --card-muted-bg: #0f1726;
                        --muted-border: #102233;
                        --success: #2b5b45;
                        --warn: #e6b85a;
                        --danger: #b85a3a;
                    }
                    body{ background: var(--bg); color: var(--text); }
                    h1,h2,h3{ color: var(--primary); }
                    .job-description{ background-color: var(--card-muted-bg); border:1px solid var(--muted-border); }
                    .proj-block{ background-color: var(--card-bg); color: var(--text); border-left: 3px solid var(--accent); padding-left: 8px; }
                    .proj-title{ color: var(--primary); }
                    .proj-desc{ color: var(--muted); }
                    .footer-link, a { color: var(--accent); }
                `;
            }
            return `
                :root{
                    --bg: #ffffff;
                    --text: #333333;
                    --muted: #555555;
                    --primary: #005F73;
                    --accent: #0A9396;
                    --card-bg: #ffffff;
                    --card-muted-bg: #f7f9fa;
                    --muted-border: #e1e8ed;
                    --success: #2D6A4F;
                    --warn: #EE9B00;
                    --danger: #BB3E03;
                }
                body{ background: var(--bg); color: var(--text); }
                h1,h2,h3{ color: var(--primary); }
                .job-description{ background-color: var(--card-muted-bg); border:1px solid var(--muted-border); }
                .proj-block{ background-color: var(--card-bg); color: var(--text); border-left: 3px solid var(--accent); padding-left: 8px; }
                .proj-title{ color: var(--primary); }
                .proj-desc{ color: var(--muted); }
                .footer-link, a { color: var(--accent); }
            `;
        })();

        // Build content conditionally based on selection
        const headerSection = include('summary') ? `
                    <div class='section'>
                        <h1>Skill Match & Alignment Report</h1>
                        <p><strong>Company:</strong> ${companyName}</p>
                        <p><strong>URL:</strong> ${companyUrl}</p>
                        <p><strong>Candidate:</strong> Yilmaz Mustafa</p>
                        <p><strong>Date:</strong> ${new Date().toLocaleDateString()}</p>
                    </div>
        ` : '';

        const scoreSection = include('summary') ? `
                    <div class='section'>
                        <div class='score-indicator'>
                            ${matchScore}% Match (${scoreLabel})
                        </div>
                    </div>
        ` : '';

        const skillsSection = include('analysis') ? `
                    <div class='section'>
                        <h2>Top Matching Skills</h2>
                        <ul style="list-style-type: none; padding-left: 0;">${htmlSkills}</ul>
                    </div>
        ` : '';

        const experienceSection = include('experience') ? `
                    <div class='section'>
                        <h2>Relevant Experience Highlights</h2>
                        <ul style="list-style-type: none; padding-left: 0;">${htmlAlignment}</ul>
                    </div>
        ` : '';

        const securitySection = include('analysis') ? `
                    <div class='section'>
                        <h2>Simulated Security Assessment</h2>
                        <div style="border:1px solid #ddd; border-radius:5px; overflow:hidden;">${htmlSecurity}</div>
                    </div>
        ` : '';

        const jobDescSection = include('analysis') ? `
                    <div class='section'>
                        <h2>Original Job Description</h2>
                        <div class='job-description'>${htmlJobDescription}</div>
                    </div>
        ` : '';

        const docContent = `
                <html lang='en' xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                <head>
                    <meta charset='utf-8'>
                    <title>Skill Match Report</title>
                    <style>
                        ${exportThemeStyles}
                        body { font-family: 'Arial', sans-serif; }
                        h1, h2, h3 { color: var(--primary); }
                        h1 { font-size: 24pt; }
                        h2 { font-size: 18pt; border-bottom: 2px solid var(--accent); padding-bottom: 5px; margin-top: 20px; }
                        h3 { font-size: 14pt; color: var(--accent); }
                        p, li { font-size: 11pt; line-height: 1.5; }
                        ul { padding-left: 20px; list-style-type: disc; }
                        .section { margin-bottom: 25px; }
                        .job-description { padding: 15px; background-color: var(--card-muted-bg); border: 1px solid var(--muted-border); border-radius: 5px; }
                        .score-indicator { padding: 15px; text-align: center; font-size: 18pt; font-weight: bold; color: white; background-color: ${scoreColor}; border-radius: 5px; }
                    </style>
                </head>
                <body>
                    ${headerSection}
                    ${scoreSection}
                    ${skillsSection}
                    ${experienceSection}
                    ${securitySection}
                    ${jobDescSection}
                </body>
                </html>
            `;

        // Persist section selections to localStorage
        try {
            localStorage.setItem('exportSections', JSON.stringify(selectedSections));
        } catch (e) {
            /* ignore storage errors */
        }

        // Preview handling: if preview toggle is enabled, open a new tab with the HTML for review
        const showToast = (msg, timeout = 3000) => {
            const toast = document.getElementById('toast');
            if (!toast) return;
            toast.textContent = msg;
            toast.style.display = 'block';
            toast.style.opacity = '1';
            clearTimeout(toast._hideTimer);
            toast._hideTimer = setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => { toast.style.display = 'none'; }, 300);
            }, timeout);
        };

        if (previewToggle && previewToggle.checked) {
            const previewWindow = window.open('', '_blank');
            if (previewWindow) {
                previewWindow.document.open();
                previewWindow.document.write(docContent);
                previewWindow.document.close();
                showToast('Preview opened in new tab', 2500);
            } else {
                showToast('Popup blocked — allow popups for preview', 4000);
            }
            return;
        }

        const blob = new Blob(['\ufeff', docContent], {
            type: 'application/msword'
        });

        const url = URL.createObjectURL(blob);
        const filename = 'Match_Report_Yilmaz_Mustafa.doc';
        const link = document.createElement('a');
        link.href = url;
        link.download = filename;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        URL.revokeObjectURL(url);
        showToast('Word export downloaded', 2500);
    };

    const exportFullResume = () => {
        // --- 1. Capture Charts as Base64 Images ---
        // Charts are not used in the final 2-page export, so this block is now only for initialization checks.
        if (!javaChartInstance || !apiDbChartInstance || !devopsChartInstance) {
             initializeCharts();
        }


        const professionalExperienceHTML = [
            // EXPERIENCE 1
            { period: 'Feb 2025 – Aug 2025 (7 mos)', title: 'Software Engineer', subtitle: 'Freelance - Java & AI/ML, Spring AI integration', bullets: ['Built production Java microservices with <strong>Spring Boot</strong> and integrated AI model serving using <strong>Spring AI</strong> for low-latency inference pipelines.', 'Designed end-to-end AI/ML workflows combining Java (Spring) services with Python model components (<strong>TensorFlow</strong>/<strong>PyTorch</strong>), exposing inference APIs and batch pipelines.'] },
            // EXPERIENCE 2
            { period: 'Oct 2024 – Feb 2025 (5 mos)', title: 'Java Software Engineer', subtitle: 'theMatchBox, Antwerp', bullets: ['Developed custom <strong>ElasticSearch Java Plugins</strong> for advanced search algorithms and performed JVM tuning/Spring application performance enhancement, utilizing <strong>ZeroMQ</strong>.'] },
            // EXPERIENCE 3
            { period: 'Jun 2023 – Oct 2024 (1 yr 5 mos)', title: 'Java Software Engineer', subtitle: 'SWIFT, Brussels', bullets: ['Implemented and maintained <strong>SWIFT MT/MX messaging protocols</strong> on the Alliance Messaging Hub (AMH) for secure financial communication.', 'Contributed to <strong>Microservices design</strong> and enterprise security upgrades for high-volume, mission-critical transaction processing systems (using <strong>Java EE/Oracle SQL</strong>).'] },
            // EXPERIENCE 4
            { period: 'Mar 2020 – Jun 2023 (3 yrs 4 mos)', title: 'Software Engineer', subtitle: '& Instructor (INTEC)', bullets: ['Developed and maintained full-stack internal applications (<strong>Student Management, QR Attendance</strong>) using <strong>Spring Boot</strong>, <strong>Spring Cloud</strong>, and <strong>Vaadin</strong>.', 'Delivered dual-language curriculum (<strong>Java EE, Spring Boot, Python</strong>) to over 100 professional developers, achieving a <strong>95% job placement rate</strong>.'] },
            // EXPERIENCE 5
            { period: 'Apr 2019 – Oct 2019 (7 mos)', title: 'Java Software Engineer', subtitle: 'VDAB, Brussels', bullets: ['Migrated legacy employment system data formats and schemas to modern RESTful <strong>Spring Boot Applications</strong>.', 'Contributed to Java development of <strong>matching algorithms</strong> and API services for candidate processing against the specialized <strong>Elise</strong> database.'] },
            // EXPERIENCE 6
            { period: 'Jan 2017 – Dec 2018 (2 yrs)', title: 'Software Engineer', subtitle: 'Self-employed, VKODIT', bullets: ['Developed <strong>C# .Net desktop applications</strong> and powershell automation tools with robust <strong>MSSQL</strong> database integration for small enterprises.', 'Managed development, project delivery, and client acquisition for <strong>E-Commerce solutions</strong> (WordPress/WooCommerce with custom PHP plugins).'] }
        ];

        const experienceBlocks = professionalExperienceHTML.map(job => `
            <div class="no-break">
                <table class="full-table">
                    <tr>
                        <td class="col-25 td-no-pad">
                            <p class="exp-period">${job.period}</p>
                        </td>
                        <td class="col-75 td-no-pad">
                            <p class="exp-title">${job.title}</p>
                            <p class="exp-subtitle">${job.subtitle}</p>
                            <ul class="resume-list">
                                ${job.bullets.map(b => `<li class="resume-li">${b}</li>`).join('')}
                            </ul>
                        </td>
                    </tr>
                </table>
            </div>
        `).join('');


        const projectsHTML = [
            { title: 'Spring Vision Framework 👁️', desc: 'A production-ready computer vision framework delivered as a <strong>Spring Boot Starter</strong>, enabling zero-configuration object detection, face analysis, and intelligent applications with enterprise security and high-performance pluggable backends.', link: 'https://github.com/codesapienbe/spring-vision' },
            { title: 'Instyper - Voice-to-Text Desktop App 🎙️', desc: 'A lightweight, privacy-first desktop application that turns your voice into text instantly. It works offline (Vosk) and supports modern online models (Whisper) and live translation.', link: 'https://github.com/codesapienbe/Instyper' },
            { title: 'Stegnocchi - EXIF Steganography App 🖼️', desc: 'A security tool built in <strong>Core Java</strong> focused on hiding data within image metadata (<strong>EXIF Steganography</strong>), showcasing low-level data manipulation and security principles.', link: 'https://github.com/codesapienbe/Stegnocchi' },
            { title: 'DeepVoice - Voice Analysis Library 🎤', desc: 'A comprehensive <strong>Python library</strong> for voice analysis, processing, and <strong>speaker identification</strong>, reinforcing active interest and competency in the AI/ML domain.', link: 'https://github.com/codesapienbe/DeepVoice' },
            { title: 'Spring ZeroMQ Starter 🧩🐙', desc: 'Spring Boot starter providing a zero-dependency messaging layer on ZeroMQ (JeroMQ) with CURVE encryption, annotation APIs and GPU/CPU compute support.', link: 'https://github.com/codesapienbe/spring-zeromq-starter' },
            { title: 'Spring Finqube ⚖️🏦', desc: 'Production-ready Spring starter for ISO 20022 financial messaging with PKI/HSM integration, monitoring and transport adapters.', link: 'https://github.com/codesapienbe/spring-finqube' }
        ].map(p => `
            <div class="proj-block">
                <p class="proj-title">${p.title}</p>
                <p class="proj-desc">${p.desc}</p>
                <p class="github-link" style="font-size: 9pt;"><a href="${p.link}" class="github-link">GitHub Link</a></p>
            </div>
        `).join('');
        
        // Certification roadmap removed from exports per user request
        const certificationRoadmapHTML = '';
        
        // --- 2. Build the Document Content with Embedded Images ---
        // Theme-aware styles for resume Word export
        const exportResumeThemeStyles = (() => {
            const isDark = document.documentElement.classList.contains('dark');
            if (isDark) {
                return `
                    :root{
                        --bg: #071229;
                        --text: #e6eef6;
                        --muted: #94a3b8;
                        --primary: #89b8a9;
                        --accent: #5fb5a6;
                        --card-bg: #071229;
                        --card-muted-bg: #0f1726;
                        --muted-border: #102233;
                    }
                    body{ background: var(--bg); color: var(--text); }
                    .header-info { border-bottom: 3pt solid var(--primary); }
                    .section-title { color: var(--primary); }
                    .proj-title{ color: var(--primary); }
                    .proj-desc{ color: var(--muted); }
                `;
            }
            return `
                :root{
                    --bg: #ffffff;
                    --text: #333333;
                    --muted: #555555;
                    --primary: #005F73;
                    --accent: #0A9396;
                    --card-bg: #ffffff;
                    --card-muted-bg: #f7f9fa;
                    --muted-border: #e1e8ed;
                }
                body{ background: var(--bg); color: var(--text); }
            `;
        })();

        const docContent = `
            <html lang='en' xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
            <head>
                <meta charset='utf-8'>
                <title>Yilmaz Mustafa Resume</title>
                <style>
                    ${exportResumeThemeStyles}
                    body { font-family: 'Arial', sans-serif; margin: 0; padding: 0; }
                    .header-info { text-align: center; margin-bottom: 20pt; padding-bottom: 10pt; border-bottom: 3pt solid var(--primary); }
                    .header-info h1 { font-size: 26pt; color: var(--primary); margin: 0; } /* Increased size */
                    .header-info p { font-size: 17pt; color: var(--primary); margin: 2pt 0 5pt 0; } /* Increased size */
                    .contact-bar { font-size: 13pt; color: var(--muted); } /* Increased size */
                    .section-title { font-size: 16pt; font-weight: bold; color: var(--primary); margin-top: 15pt; margin-bottom: 8pt; padding-bottom: 3pt; border-bottom: 1pt solid var(--primary); page-break-before: always; }
                    .section-title.first { page-break-before: auto; }
                    strong { font-weight: bold; }
                    table { width: 100%; border-collapse: collapse; margin-bottom: 15pt; }
                    td { padding: 0; vertical-align: top; }
                    .chart-title { font-size: 11pt; font-weight: bold; color: #0A9396; margin-bottom: 5pt; text-align: center; }
                    .chart-wrapper { text-align: center; margin-bottom: 10pt; }
                    .chart-image-small { width: 240px; height: 240px; max-width: 240px; display: inline-block; } /* Final Adjusted size */
                    .chart-image-wide { width: 320px; height: 200px; max-width: 320px; display: inline-block; } /* Final Adjusted size for bar chart */
                </style>
            </head>
            <body>
                <div class="header-info">
                    <h1>YILMAZ MUSTAFA</h1>
                    <p>Java & Spring Software Engineer</p>
                    <div class="contact-bar">
                        <a href="mailto:yilmaz@codesapien.net" class="footer-link">📧 yilmaz@codesapien.net</a> | 
                        <a href="https://codesapien.net" class="footer-link">🌐 codesapien.net</a> | 
                        <a href="https://www.linkedin.com/in/codesapienbe" class="footer-link">💼 codesapienbe (LinkedIn)</a>
                    </div>
                </div>

                <div class="section-title first">PROFESSIONAL SUMMARY</div>
                <p style="margin-bottom: 10pt;">Software Engineer with <strong>8+ years of expertise</strong> in enterprise application development using <strong>Java</strong> and <strong>Spring Boot</strong>. Proven track record delivering scalable, high-performance applications and <strong>CI/CD automation</strong> across Monolith, <strong>Microservices</strong>, and <strong>Modulith</strong> architectures. Supported <strong>10k+ concurrent users</strong> and specialized in <strong>REST/SOAP APIs</strong>, data integration, and <strong>messaging protocols</strong> (SWIFT MT/MX).</p>
                
                <div class="section-title" style="page-break-before: auto;">PROFESSIONAL JOURNEY</div>
                ${experienceBlocks}
                <div class="page-break-after"></div> <!-- Page Break Here: After Professional Journey -->


                <div class="section-title no-export">CERTIFICATION ROADMAP: MASTERY IN JAVA, SPRING, AND AI</div>
                <p class="no-export" style="margin-bottom: 10pt;">Proactive plan to achieve advanced, recognized industry certifications starting November 2025.</p>
                <!-- Certification roadmap intentionally excluded from exports -->
                <!-- When generating Word/PDF exports, we also remove certificationRoadmapHTML from the exported docContent. -->

                <div class="section-title">EDUCATION & DEVELOPMENT</div>
                <table style="width: 100%;">
                    <tr>
                        <td colspan="2" style="padding-bottom: 15pt;">
                            <p style="font-size: 12pt; font-weight: bold; color: #0A9396; margin-bottom: 8pt;">Academic History 🎓</p>
                            <div style="margin-bottom: 10pt;">
                                <p style="font-size: 11pt; font-weight: bold; color: #333;">Postgraduate AI & Machine Learning (Completed)</p>
                                <p style="font-size: 10pt; color: #555;">Erasmushogeschool Brussel, Belgium</p>
                            </div>
                            <div style="margin-bottom: 10pt;">
                                <p style="font-size: 11pt; font-weight: bold; color: #333;">MSc in Computing and Information Systems (Incomplete)</p>
                                <p style="font-size: 10pt; color: #555;">Queen Mary, University of London, UK (2013)</p>
                            </div>
                            <div style="margin-bottom: 10pt;">
                                <p style="font-size: 11pt; font-weight: bold; color: #333;">Bachelor Degree, Tourism and Hotel Management</p>
                                <p style="font-size: 10pt; color: #555;">Beykent University, Istanbul, Turkiye (2010)</p>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 50%; padding-right: 15pt; vertical-align: top;">
                            <p style="font-size: 12pt; font-weight: bold; color: #0A9396; margin-bottom: 8pt;">Certifications & Training</p>
                            <ul style="margin: 0; padding-left: 20pt; list-style-type: disc; margin-bottom: 10pt;">
                                <li style="margin-bottom: 4pt;"><strong>SWIFT Messaging Systems</strong> (MX/MT, ISO 20022, AMH)</li>
                                <li style="margin-bottom: 4pt;">Agile in Software Engineering (SWIFT)</li>
                                <li style="margin-bottom: 4pt;">Spring Boot and Angular (VDAB)</li>
                                <li style="margin-bottom: 4pt;">C and System Programming</li>
                            </ul>
                        </td>
                        <td style="width: 50%; vertical-align: top;">
                            <p style="font-size: 12pt; font-weight: bold; color: #0A9396; margin-bottom: 8pt;">Global Competencies 🗣️</p>
                            <p style="font-size: 10pt; color: #555;"><strong>Languages:</strong> Turkish (Native), English (Fluent), Dutch (Professional)</p>
                            <p style="font-size: 10pt; color: #555;"><strong>Domains:</strong> Financial Messaging, Enterprise Software & SaaS, Technical Training</p>
                        </td>
                    </tr>
                </table>
            </body>
            </html>
        `;

        const blob = new Blob(['\ufeff', docContent], {
            type: 'application/msword'
        });

        const url = URL.createObjectURL(blob);
        const filename = 'Resume_Yilmaz_Mustafa.doc';
        const link = document.createElement('a');
        link.href = url;
        link.download = filename;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        URL.revokeObjectURL(url);
    };
</script>
</body>
</html>
